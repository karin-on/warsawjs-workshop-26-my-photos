{"version":3,"sources":["node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","js/image.js","js/app.js"],"names":["Image","path","gallery","image","document","createElement","setAttribute","appendChild","img","addEventListener","markOrUnmarkAsFav","classList","toggle","contains","style","display","imagesPaths","image1","image2","imagesGallery","getElementById","btnShowFavs","querySelector","fileInput","imgItems","map","el","forEach","show","filter","isFav","hide","files","reader","FileReader","onload","e","push","target","result","newImage","readAsDataURL","fetch","then","response","json","images","imagesPaths2","url","imgItems2"],"mappings":"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","file":"app.c3f9f951.map","sourceRoot":"..","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export class Image {\n    constructor(path, gallery) {\n        this.path = path;\n        this.gallery = gallery;\n    }\n\n    show () {\n        let image = document.createElement('img');\n        image.setAttribute('src', this.path);\n        this.gallery.appendChild(image);\n\n        this.img = image;\n        image.addEventListener('click', () => this.markOrUnmarkAsFav());   //tu muszę stworzyć funkcję, która wywoła mi funckję markOrUnmarkAsFav, bo inaczej this wewnątrz metody markOrUnmarkAsFav będzie wskazywać na coś innego niż chcę. This nie może być przekazany przez referencję (referencją by było ('click', this.markOrUnmarkAsFav))\n    }\n\n    markOrUnmarkAsFav () {\n        this.img.classList.toggle('image--favourite');\n    }\n\n    isFav () {\n        return this.img.classList.contains('image--favourite');\n    }\n\n    hide () {\n        this.img.style.display= 'none';\n    }\n}\n","import image1 from '/images/confront.png';\nimport image2 from '/images/warsawjs.png';\nimport {Image} from \"./image\";\n\n\n\nlet imagesPaths = [image1, image2];\nconst imagesGallery = document.getElementById('images');\nconst btnShowFavs = document.querySelector('#show-favourites');\nconst fileInput = document.querySelector('#file-input');\n\n\nconst imgItems = imagesPaths.map((el, gallery) => new Image(el, imagesGallery));\nimgItems.forEach(el => el.show());\n\nbtnShowFavs.addEventListener('click', function () {\n    imgItems\n        .filter(el => !el.isFav())\n        .forEach(el => el.hide());\n});\n\n\nfileInput.addEventListener('change', function () {\n    if (fileInput.files && fileInput.files[0]) {\n        const reader = new FileReader();\n\n        reader.onload = function (e) {\n            // dodajemy e.target.result\n            imagesPaths.push(e.target.result);\n            let newImage = new Image(e.target.result, imagesGallery);\n            newImage.show();\n        };\n\n        reader.readAsDataURL(fileInput.files[0]);\n    }\n});\n\n\n\n\n//------------------------- FETCH ----------------------\n\nfetch('http://localhost:3000/photos')\n    .then(response => response.json())\n    .then(images => {\n        let imagesPaths2 = [];\n        images.forEach(el => imagesPaths2.push(el.url));\n\n        let imgItems2 = imagesPaths2.map((el, gallery) => new Image(el, imagesGallery));\n        imgItems2.forEach(el => el.show());\n\n        btnShowFavs.addEventListener('click', function () {\n            imgItems2\n                .filter(el => !el.isFav())\n                .forEach(el => el.hide());\n        });\n\n    });\n\n\n\n\n\n\n"]}